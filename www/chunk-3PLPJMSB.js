import{Aa as c,p as a,t as n}from"./chunk-VGYXPAF7.js";var d=(()=>{let t=class t{constructor(){this.http=n(c),this.totalamount=0,this.totalitem=0,this.acknowledgesignature="",this.paymentnotcomplete=!0,this.blurvalue="blur(5px)",this.initpriceobj={ashgourd_price:0,beans_price:0,beetroot_price:0,bittergourd_price:0,bottlegourd_price:0,brinjal_price:0,broadbeans_price:0,broccoli_price:0,cabbage_price:0,capsicum_price:0,carrot_price:0,cauliflower_price:0,celery_price:0,chowchow_price:0,clusterbeans_price:0,corn_price:0,cucumber_price:0,drumstick_price:0,elephantyam_price:0,garlic_price:0,ginger_price:0,greenpeas_price:0,Ivygourd_price:0,Lablab_price:0,Ladysfinger_price:0,Mushroom_price:0,onionbig_price:0,Potato_price:0,Pumpkin_price:0,Radish_price:0,Ridgegourd_price:0,Snakebeans_price:0,Snakegourd_price:0,Spinach_price:0,Springonion_price:0,Turnip_price:0,tomatonati_price:0,tomatohybrid_price:0,ardhapalak_price:0,corianderleaves_price:0,curryleaves_price:0,smallonion_price:0,minimeals_price:0,thalimeals_price:0,oniondosa_price:0,coke_price:0,redbull_price:0,goldflakeking_price:0,goldflakelight_price:0,mild_price:0,iceburst_price:0,paracetamol_price:0,solvincold_price:0,dolosyrup_price:0,montairlckid_price:0,broom_price:0,ashirvaadatta_price:0,fortuneoil_price:0,bisleri_price:0,breadcheese_price:0,stump_price:0,totalamount:this.totalamount,totalitem:this.totalitem},this.address={mobileinput:"",name:"",houseflatnumberinput:"",houseappartmentnameinput:"",streetnumbernameinput:"",arealandmarkinput:""},this.minutesvalue=4,this.secondsvalue=60,this.paymenttimer=""}getvegprice(e,i){let r=e,l=r.indexOf(".");this.initpriceobj[i]=Number.parseInt(r.substring(l+1))}gettotalamountitem(){for(let[e,i]of Object.entries(this.initpriceobj))this.totalamount+=i,i>0&&(this.totalitem+=1)}triggerpaymenttimer(){var e=setInterval(()=>{this.secondsvalue-=1,this.secondsvalue==0&&(this.minutesvalue-=1,this.secondsvalue=60),this.minutesvalue==0&&this.secondsvalue==1&&(clearInterval(e),this.minutesvalue=4,this.secondsvalue=60,this.triggerpaymenttimer()),this.paymenttimer=this.minutesvalue.toString()+":"+this.secondsvalue.toString()},1e3),i=setInterval(()=>{this.http.post("https://madis-witn.onrender.com/getacknowledge",{acknowledge:this.acknowledgesignature}).subscribe({next:r=>{Object.keys(r).length>0&&(clearInterval(e),clearInterval(i),this.paymentnotcomplete=!1,this.blurvalue="blur(0px)")},error:r=>{console.warn(r)}})},1e4)}getaddress(e){return this.http.get(`https://madis-witn.onrender.com/getaddress/${e}`)}addaddress(){return this.http.post("https://madis-witn.onrender.com/addaddress",this.address)}setpattern(){this.acknowledgesignature="";for(let[e,i]of Object.entries(this.initpriceobj))i>0&&(e=="ashgourd_price"?this.acknowledgesignature+="A_":e=="beans_price"?this.acknowledgesignature+="B_":e=="beetroot_price"?this.acknowledgesignature+="D_":e=="bittergourd_price"?this.acknowledgesignature+="E_":e=="bottlegourd_price"?this.acknowledgesignature+="F_":e=="brinjal_price"?this.acknowledgesignature+="G_":e=="broadbeans_price"?this.acknowledgesignature+="H_":e=="broccoli_price"?this.acknowledgesignature+="L_":e=="cabbage_price"?this.acknowledgesignature+="M_":e=="capsicum_price"?this.acknowledgesignature+="N_":e=="carrot_price"?this.acknowledgesignature+="P_":e=="cauliflower_price"?this.acknowledgesignature+="Q_":e=="celery_price"?this.acknowledgesignature+="R_":e=="chowchow_price"?this.acknowledgesignature+="T_":e=="clusterbeans_price"?this.acknowledgesignature+="Y_":e=="corn_price"?this.acknowledgesignature+="apple_":e=="cucumber_price"?this.acknowledgesignature+="cat_":e=="drumstick_price"?this.acknowledgesignature+="banana_":e=="elephantyam_price"?this.acknowledgesignature+="gobi_":e=="elephantyam_price"?this.acknowledgesignature+="kabab_":e=="garlic_price"?this.acknowledgesignature+="fish_":e=="ginger_price"?this.acknowledgesignature+="chicken_":e=="greenpeas_price"?this.acknowledgesignature+="leg_":e=="Ivygourd_price"?this.acknowledgesignature+="X_":e=="Lablab_price"?this.acknowledgesignature+="Y_":e=="Ladysfinger_price"?this.acknowledgesignature+="Z_":e=="Mushroom_price"?this.acknowledgesignature+="a_":e=="onionbig_price"?this.acknowledgesignature+="b_":e=="Potato_price"?this.acknowledgesignature+="d_":e=="Pumpkin_price"?this.acknowledgesignature+="e_":e=="Radish_price"?this.acknowledgesignature+="f_":e=="Ridgegourd_price"?this.acknowledgesignature+="g_":e=="Snakebeans_price"?this.acknowledgesignature+="h_":e=="Snakegourd_price"?this.acknowledgesignature+="i_":e=="Spinach_price"?this.acknowledgesignature+="m_":e=="Springonion_price"?this.acknowledgesignature+="n_":e=="Turnip_price"?this.acknowledgesignature+="q_":e=="tomatonati_price"?this.acknowledgesignature+="Activa5G_":e=="tomatohybrid_price"?this.acknowledgesignature+="laptop_":e=="ardhapalak_price"?this.acknowledgesignature+="twocart_":e=="corianderleaves_price"?this.acknowledgesignature+="Mosquito_":e=="curryleaves_price"?this.acknowledgesignature+="Broom_":e=="smallonion_price"?this.acknowledgesignature+="Chapatti_":e=="minimeals_price"?this.acknowledgesignature+="MM_":e=="thalimeals_price"?this.acknowledgesignature+="Thali_":e=="oniondosa_price"?this.acknowledgesignature+="od_":e=="coke_price"?this.acknowledgesignature+="coke_":e=="redbull_price"?this.acknowledgesignature+="red_":e=="goldflakeking_price"?this.acknowledgesignature+="king_":e=="goldflakelight_price"?this.acknowledgesignature+="light_":e=="mild_price"?this.acknowledgesignature+="mild_":e=="iceburst_price"?this.acknowledgesignature+="burst_":e=="paracetamol_price"?this.acknowledgesignature+="Para_":e=="solvincold_price"?this.acknowledgesignature+="solvin_":e=="dolosyrup_price"?this.acknowledgesignature+="dsyrup_":e=="montairlckid_price"?this.acknowledgesignature+="montairlc_":e=="broom_price"?this.acknowledgesignature+="broom_":e=="ashirvaadatta_price"?this.acknowledgesignature+="ashir_":e=="fortuneoil_price"?this.acknowledgesignature+="fortune_":e=="bisleri_price"?this.acknowledgesignature+="bisleri_":e=="breadcheese_price"?this.acknowledgesignature+="bcheese_":e=="stump_price"&&(this.acknowledgesignature+="stump_"));this.acknowledgesignature+=`${this.totalamount}`}addcustomer(){let e={customervegis:this.initpriceobj,address:this.address,acknowledge:this.acknowledgesignature};this.http.post("https://madis-witn.onrender.com/addcustomer",e).subscribe({next:i=>{Object.keys(i).length>0},error:i=>{console.warn(i)}})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{d as a};
