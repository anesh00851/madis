import{Ca as a,p as n,t as c}from"./chunk-ADSBJNMC.js";var g=(()=>{let s=class s{constructor(){this.http=c(a),this.totalamount=0,this.totalitem=0,this.acknowledgesignature="",this.paymentnotcomplete=!0,this.blurvalue="blur(5px)",this.freeitem="nA",this.showflake=!1,this.showlights=!1,this.showmild=!1,this.showiceburst=!1,this.showflakeaddbutton=!0,this.showlightsaddbutton=!0,this.showmildaddbutton=!0,this.showiceburstaddbutton=!0,this.coords_latti=0,this.coords_longi=0,this.initpriceobj={BarbecueChicken_price:0,GrillChicken_price:0,chickenfriedrice_price:0,ALFAHAM_price:0,goldflakeking_price:0,goldflakelight_price:0,mild_price:0,iceburst_price:0,Gobifriedrice_price:0,chickennoodles_price:0,Gobinoodles_price:0,chickencurry_price:0,butterchicken_price:0,parotta_price:0,chicken65_price:0,chickenchukka_price:0,dragonchicken_price:0,pepperchicken_price:0,chillichicken_price:0,donnechickenbriyani_price:0,Thalasserychickenbriyani_price:0,Hyderabadchickendumbriyani_price:0,chickenkebab_price:0,totalamount:this.totalamount,totalitem:this.totalitem},this.address={mobileinput:"",name:"",houseflatnumberinput:"",houseappartmentnameinput:"",streetnumbernameinput:"",arealandmarkinput:""},this.minutesvalue=4,this.secondsvalue=60,this.paymenttimer="",this.isModalOpen=!1}getvegprice(e,i){let t=e,o=t.indexOf(".");this.initpriceobj[i]=Number.parseInt(t.substring(o+1))}gettotalamountitem(){for(let[e,i]of Object.entries(this.initpriceobj))this.totalamount+=i,i>0&&(this.totalitem+=1);this.totalitem>=1&&(this.totalamount+=50)}triggerpaymenttimer(){var e=setInterval(()=>{this.secondsvalue-=1,this.secondsvalue==0&&(this.minutesvalue-=1,this.secondsvalue=60),this.minutesvalue==0&&this.secondsvalue==1&&(clearInterval(e),this.minutesvalue=4,this.secondsvalue=60,this.triggerpaymenttimer()),this.paymenttimer=this.minutesvalue.toString()+":"+this.secondsvalue.toString()},1e3),i=setInterval(()=>{this.http.post("https://madis-witn.onrender.com/getacknowledge",{acknowledge:this.acknowledgesignature}).subscribe({next:t=>{Object.keys(t).length>0&&(clearInterval(e),clearInterval(i),this.paymentnotcomplete=!1,this.blurvalue="blur(0px)")},error:t=>{console.warn(t)}})},1e4)}getaddress(e){return this.http.get(`https://madis-witn.onrender.com/getaddress/${e}`)}addaddress(){return this.http.post("https://madis-witn.onrender.com/addaddress",this.address)}setpattern(){this.acknowledgesignature="";for(let[e,i]of Object.entries(this.initpriceobj))i>0&&(e=="BarbecueChicken_price"?this.acknowledgesignature+="bbq_":e=="GrillChicken_price"?this.acknowledgesignature+="grill_":e=="ALFAHAM_price"?this.acknowledgesignature+="dinducb_":e=="goldflakeking_price"?this.acknowledgesignature+="king_":e=="goldflakelight_price"?this.acknowledgesignature+="light_":e=="mild_price"?this.acknowledgesignature+="mild_":e=="iceburst_price"?this.acknowledgesignature+="burst_":e=="chickenfriedrice_price"?this.acknowledgesignature+="cfr_":e=="Gobifriedrice_price"?this.acknowledgesignature+="gopifr_":e=="chickennoodles_price"?this.acknowledgesignature+="chicnood_":e=="Gobinoodles_price"?this.acknowledgesignature+="gobinood_":e=="chickencurry_price"?this.acknowledgesignature+="ccurry_":e=="butterchicken_price"?this.acknowledgesignature+="butterchic_":e=="parotta_price"?this.acknowledgesignature+="parot_":e=="chicken65_price"?this.acknowledgesignature+="sfive_":e=="chickenchukka_price"?this.acknowledgesignature+="cchukka_":e=="dragonchicken_price"?this.acknowledgesignature+="dragonc_":e=="pepperchicken_price"?this.acknowledgesignature+="pepperc_":e=="chillichicken_price"?this.acknowledgesignature+="chillic_":e=="donnechickenbriyani_price"?this.acknowledgesignature+="donnecb_":e=="Thalasserychickenbriyani_price"?this.acknowledgesignature+="dinduc65b_":e=="Hyderabadchickendumbriyani_price"?this.acknowledgesignature+="hyderaBri_":e=="chickenkebab_price"&&(this.acknowledgesignature+="kebabc_"));this.acknowledgesignature+=`${this.totalamount}`}addcustomer(){let e={customervegis:this.initpriceobj,address:this.address,acknowledge:this.acknowledgesignature,free:this.freeitem,lattitude:this.coords_latti,longitude:this.coords_longi};this.http.post("https://madis-witn.onrender.com/addcustomer",e).subscribe({next:i=>{Object.keys(i).length>0},error:i=>{console.warn(i)}})}getCurrentPosition(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let i=e.coords.latitude,t=e.coords.longitude;this.coords_latti=i,this.coords_longi=t,console.log(`Latitude: ${i}, Longitude: ${t}`)},e=>{}):console.error("Geolocation is not supported by this browser.")}setOpen(e){this.isModalOpen=e}};s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();export{g as a};
